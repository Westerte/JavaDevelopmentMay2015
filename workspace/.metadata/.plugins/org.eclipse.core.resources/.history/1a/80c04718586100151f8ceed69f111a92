package edu.nesterenko.touroperator.logic;

import java.util.ArrayList;
import java.util.List;
import java.util.regex.Pattern;

import edu.nesterenko.touroperator.entity.Country;
import edu.nesterenko.touroperator.resource.RegexManager;
import edu.nesterenko.touroperator.dao.CountryDao;
import edu.nesterenko.touroperator.dao.DaoException; 

public class CountryLogic {
	
	private CountryLogic() {}
	
	public static List<Country> addCountry(String name) throws LogicException {
		List<Country> countryList = null;
		if(name == null || name.isEmpty()) {
			throw new LogicException("name is empty");
		}
		
		if(Pattern.matches(
				RegexManager.getProperty("pattern.onlylitter"), 
				name)) {
			Country country = new Country(0, name);
			CountryDao countryDao = new CountryDao();
			try {
				countryDao.add(0, country);
				countryList = countryDao.findAll();
			} catch (DaoException e) {
				throw new LogicException(e);
			}
		}
		return null;		
	}
}
