package edu.vadimnesterenko.airline.command;

import org.apache.log4j.Logger;

import edu.vadimnesterenko.airline.bean.Request;
import edu.vadimnesterenko.airline.bean.RequestEnum;
import edu.vadimnesterenko.airline.bean.Response;
import edu.vadimnesterenko.airline.bean.ResponseEnum;
import edu.vadimnesterenko.airline.exception.PhisicalException;
import edu.vadimnesterenko.airline.logic.AirlineAirplainsFinder;
import edu.vadimnesterenko.airline.logic.AirlineEditor;

public class FindAllCommand implements Command {
	private final static Logger LOG = Logger.getLogger(DeleteCommand.class);
	private static FindAllCommand instance;
	
	static {
		instance = new  FindAllCommand();
	}
	
	public static  FindAllCommand getInstance() {
		return instance;
	}
	@Override
	public Response processRequest(Request request) {
		Response response = new Response();
		try {
			try {
				List<Airplain> airplanes = AirlineAirplainsFinder.findAll();
				response.setParameter(ResponseEnum.IS_OK, true);
			} catch(ClassCastException e) {
				throw new PhisicalException("index must be int parameter");
			}			
		} catch (PhisicalException e) {
			response.setParameter(ResponseEnum.IS_OK, false);
			LOG.error(e);
		}
		return null;
	}

}
